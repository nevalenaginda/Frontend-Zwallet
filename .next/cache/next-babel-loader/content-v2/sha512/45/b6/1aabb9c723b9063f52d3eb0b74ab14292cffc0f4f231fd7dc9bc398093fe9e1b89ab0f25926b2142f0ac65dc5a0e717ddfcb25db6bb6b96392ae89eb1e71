{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Tutorial Web\\\\Week 10\\\\Zwallet-Frontend\\\\components\\\\module\\\\DetailTransfer.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport toRupiah from \"../../helpers/curencyToIDR\";\nimport Moment from \"moment\";\nimport PinInput from \"react-pin-input\";\nimport { checkPin } from \"../../configs/redux/actions/user\";\nimport { transferProcess } from \"../../configs/redux/actions/transfer\"; //modal\n\nimport Swal from \"sweetalert2\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    heigth: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n})); // modal\n\nfunction DetailTransfer() {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const {\n    transfer,\n    dataTarget\n  } = useSelector(state => state.transfer);\n  const {\n    user\n  } = useSelector(state => state.user);\n  const urlImg = process.env.NEXT_PUBLIC_URL_IMAGE_NO_SLASH;\n\n  const nowTime = () => {\n    const dateTime = Moment().format(\"MMMM DD, YYYY - HH.mm\");\n    return dateTime;\n  }; // modal\n\n\n  const classes = useStyles();\n  const [modalStyle] = React.useState(getModalStyle);\n  const [open, setOpen] = React.useState(false);\n  const {\n    0: loginPin,\n    1: setLoginPin\n  } = useState(\"\"); // const handleOpen = (data) => {\n  //   setOpen(true);\n  // };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleContinue = () => {\n    setOpen(true);\n  };\n\n  const handleLoginPin = e => {\n    e.preventDefault();\n    dispatch(checkPin({\n      pin: loginPin\n    }, user.id)).then(res => {\n      setOpen(false);\n      dispatch(transferProcess(transfer)).then(res => {\n        dispatch({\n          type: \"TRANSFER_SUCCESS\"\n        });\n        Swal.fire({\n          title: \"Success!\",\n          text: \"Transfer Success\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        router.push({\n          pathname: \"/transfer/history\"\n        });\n      }).catch(err => {\n        dispatch({\n          type: \"TRANSFER_FAILURE\",\n          payload: err.response.data.message\n        });\n        Swal.fire({\n          title: \"Error!\",\n          text: \"Transfer Failed\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        router.push({\n          pathname: \"/transfer/history\"\n        });\n      });\n    }).catch(err => {\n      setOpen(false);\n      Swal.fire({\n        title: \"Error!\",\n        text: \"Login pin number failed. Please enter correct pin number.\",\n        icon: \"error\",\n        confirmButtonText: \"Ok\",\n        confirmButtonColor: \"#6379f4;\"\n      });\n    });\n  };\n\n  useEffect(() => {\n    if (!transfer.amount && !dataTarget.id) {\n      router.push(\"/dashboard\");\n    } else {\n      dispatch({\n        type: \"INSERT_DATA_TRANSFER\",\n        payload: transfer.dateTime = nowTime()\n      });\n    }\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"jsx-168628897\" + \" \" + \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-168628897\" + \" \" + \"container d-flex d-lg-none py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => router.back(),\n        className: \"jsx-168628897\" + \" \" + \"text-dark mr-3\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"jsx-168628897\" + \" \" + \"m-0 font-weight-bold align-self-center\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bi bi-arrow-left\",\n            className: \"jsx-168628897\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"jsx-168628897\" + \" \" + \"m-0 align-self-center font-weight-bold\",\n        children: \"Confirmation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-168628897\" + \" \" + \"card border-0 card-lg shadow py-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jsx-168628897\" + \" \" + \"card-body bodycard\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"jsx-168628897\" + \" \" + \"font-weight-bold\",\n          children: \"Transfer To\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-168628897\" + \" \" + \"card border-0 shadow mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-168628897\" + \" \" + \"card-body d-flex\",\n            children: [dataTarget.image && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${urlImg}/images/${dataTarget.image}`,\n              alt: \"\",\n              className: \"jsx-168628897\" + \" \" + \"img-people mr-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), dataTarget.name && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-168628897\" + \" \" + \"align-self-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"jsx-168628897\" + \" \" + \"font-weight-bold\",\n                children: dataTarget.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"jsx-168628897\" + \" \" + \"text-muted m-0\",\n                children: dataTarget.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"jsx-168628897\" + \" \" + \"font-weight-bold\",\n          children: \"Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), transfer.amount && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-168628897\" + \" \" + \"card card-body border-0 shadow mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"jsx-168628897\",\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"jsx-168628897\" + \" \" + \"m-0 font-weight-bold\",\n            children: [\"Rp \", toRupiah(transfer.amount)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), transfer.balanceLeft && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-168628897\" + \" \" + \"card card-body border-0 mb-3 shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"jsx-168628897\",\n            children: \"Balance Left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"jsx-168628897\" + \" \" + \"m-0 font-weight-bold\",\n            children: [\"Rp \", toRupiah(transfer.balanceLeft)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), transfer.dateTime && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-168628897\" + \" \" + \"card card-body mb-3 border-0 shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"jsx-168628897\",\n            children: \"Date & Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-168628897\" + \" \" + \"input-group\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"jsx-168628897\" + \" \" + \"m-0 font-weight-bold\",\n              children: transfer.dateTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), transfer.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-168628897\" + \" \" + \"card card-body mb-5 border-0 shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"jsx-168628897\",\n            children: \"Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-168628897\" + \" \" + \"input-group\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"jsx-168628897\" + \" \" + \"m-0 font-weight-bold\",\n              children: transfer.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-168628897\" + \" \" + \"d-flex justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleContinue,\n            className: \"jsx-168628897\" + \" \" + \"btn btn-blue btn-lg radius-12 d-none d-lg-block\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"jsx-168628897\" + \" \" + \"p-3 font-weight-bold\",\n              children: \" Continue \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleContinue,\n            className: \"jsx-168628897\" + \" \" + \"btn btn-blue btn-lg radius-12 btn-block d-lg-none d-block\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"jsx-168628897\" + \" \" + \"p-3 font-weight-bold\",\n              children: \" Continue \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: modalStyle,\n          className: \"jsx-168628897\" + \" \" + (classes.paper || \"\"),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-168628897\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-168628897\" + \" \" + \"p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-168628897\" + \" \" + \"d-flex justify-content-between\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"jsx-168628897\" + \" \" + \"m-0 font-weight-bold\",\n                  children: \"Enter PIN to Transfer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"jsx-168628897\" + \" \" + \"my-4 text-muted\",\n                children: [\"Enter your 6 digits PIN for confirmation to\", /*#__PURE__*/_jsxDEV(\"br\", {\n                  className: \"jsx-168628897\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this), \"continue transferring money.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"jsx-168628897\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-168628897\" + \" \" + \"w-100 d-flex justify-content-center mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-168628897\" + \" \" + \"row text-center\",\n                    children: /*#__PURE__*/_jsxDEV(PinInput, {\n                      length: 6,\n                      focus: true,\n                      secret: true,\n                      initialValue: \"\",\n                      inputStyle: {\n                        border: \"1px solid rgba(169, 169, 169, 0.6)\",\n                        borderRadius: \"10px\",\n                        width: \"10%\",\n                        minWidth: \"30px\"\n                      },\n                      inputFocusStyle: {\n                        borderColor: \" #6379f4\"\n                      },\n                      type: \"numeric\",\n                      onChange: value => setLoginPin(value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-168628897\" + \" \" + \"d-flex justify-content-end\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    onClick: handleLoginPin,\n                    disabled: loginPin.length < 6,\n                    type: \"submit\",\n                    className: \"jsx-168628897\" + \" \" + \"btn btn-block btn-lg radius-12 btn-blue\",\n                    children: \"Continue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"168628897\",\n      children: \"@media screen and (max-width:992px){.card-lg.jsx-168628897{box-shadow:none !important;}.card-lg.jsx-168628897 .bodycard.jsx-168628897{padding:0 !important;}}.btn-blue.jsx-168628897{background-color:#6379f4;color:white;}.btn-blue.jsx-168628897:hover{background-color:#5265cf;color:white;}.btn-blue.jsx-168628897:disabled{background-color:#dadada;color:#88888f;}.btn-blue.jsx-168628897:disabled.jsx-168628897:hover{background-color:#dadada;color:#88888f;}.img-people.jsx-168628897{width:100px;height:100px;border-radius:12px;object-fit:cover;}div.card.jsx-168628897{border-radius:15px;}.bg-gray.jsx-168628897{background-color:#ebecec;}.bg-gray.jsx-168628897:focus{background-color:#ebecec;}input.jsx-168628897:focus{box-shadow:none;}.btn-blue.jsx-168628897{background-color:#6379f4;color:white;}.btn-blue.jsx-168628897:hover{background-color:#5365c9;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxUdXRvcmlhbCBXZWJcXFdlZWsgMTBcXFp3YWxsZXQtRnJvbnRlbmRcXGNvbXBvbmVudHNcXG1vZHVsZVxcRGV0YWlsVHJhbnNmZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc1JTLEFBSTBDLEFBR04sQUFJRSxBQUlBLEFBSUEsQUFJQSxBQUliLEFBTU8sQUFHTSxBQUdBLEFBR1QsQUFHUyxBQUtBLFlBdEJaLElBZWYsR0FUQSxFQTFCRSxJQUlZLEFBSUEsQUFJRSxBQUlBLEFBS0ssQUFRckIsQUFHQSxBQU1jLEFBS0EsRUE5Q1osVUFRRixBQUlBLEFBOEJBLEFBS0EsRUEvQkEsQUFJQSxLQUttQixpQkFDbkIiLCJmaWxlIjoiRDpcXFR1dG9yaWFsIFdlYlxcV2VlayAxMFxcWndhbGxldC1Gcm9udGVuZFxcY29tcG9uZW50c1xcbW9kdWxlXFxEZXRhaWxUcmFuc2Zlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xyXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IHRvUnVwaWFoIGZyb20gXCIuLi8uLi9oZWxwZXJzL2N1cmVuY3lUb0lEUlwiO1xyXG5pbXBvcnQgTW9tZW50IGZyb20gXCJtb21lbnRcIjtcclxuaW1wb3J0IFBpbklucHV0IGZyb20gXCJyZWFjdC1waW4taW5wdXRcIjtcclxuaW1wb3J0IHsgY2hlY2tQaW4gfSBmcm9tIFwiLi4vLi4vY29uZmlncy9yZWR1eC9hY3Rpb25zL3VzZXJcIjtcclxuaW1wb3J0IHsgdHJhbnNmZXJQcm9jZXNzIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3MvcmVkdXgvYWN0aW9ucy90cmFuc2ZlclwiO1xyXG5cclxuLy9tb2RhbFxyXG5pbXBvcnQgU3dhbCBmcm9tIFwic3dlZXRhbGVydDJcIjtcclxuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9Nb2RhbFwiO1xyXG5cclxuZnVuY3Rpb24gcmFuZCgpIHtcclxuICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjApIC0gMTA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1vZGFsU3R5bGUoKSB7XHJcbiAgY29uc3QgdG9wID0gNTA7XHJcbiAgY29uc3QgbGVmdCA9IDUwO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdG9wOiBgJHt0b3B9JWAsXHJcbiAgICBsZWZ0OiBgJHtsZWZ0fSVgLFxyXG4gICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKC0ke3RvcH0lLCAtJHtsZWZ0fSUpYCxcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKCh0aGVtZSkgPT4gKHtcclxuICBwYXBlcjoge1xyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIHdpZHRoOiA0MDAsXHJcbiAgICBoZWlndGg6IDUwMCxcclxuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyLFxyXG4gICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjMDAwXCIsXHJcbiAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbNV0sXHJcbiAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDIsIDQsIDMpLFxyXG4gIH0sXHJcbn0pKTtcclxuLy8gbW9kYWxcclxuXHJcbmZ1bmN0aW9uIERldGFpbFRyYW5zZmVyKCkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcclxuICBjb25zdCB7IHRyYW5zZmVyLCBkYXRhVGFyZ2V0IH0gPSB1c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLnRyYW5zZmVyKTtcclxuICBjb25zdCB7IHVzZXIgfSA9IHVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUudXNlcik7XHJcbiAgY29uc3QgdXJsSW1nID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVJMX0lNQUdFX05PX1NMQVNIO1xyXG5cclxuICBjb25zdCBub3dUaW1lID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZGF0ZVRpbWUgPSBNb21lbnQoKS5mb3JtYXQoXCJNTU1NIERELCBZWVlZIC0gSEgubW1cIik7XHJcbiAgICByZXR1cm4gZGF0ZVRpbWU7XHJcbiAgfTtcclxuXHJcbiAgLy8gbW9kYWxcclxuICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKCk7XHJcbiAgY29uc3QgW21vZGFsU3R5bGVdID0gUmVhY3QudXNlU3RhdGUoZ2V0TW9kYWxTdHlsZSk7XHJcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtsb2dpblBpbiwgc2V0TG9naW5QaW5dID0gdXNlU3RhdGUoXCJcIik7XHJcblxyXG4gIC8vIGNvbnN0IGhhbmRsZU9wZW4gPSAoZGF0YSkgPT4ge1xyXG4gIC8vICAgc2V0T3Blbih0cnVlKTtcclxuICAvLyB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcclxuICAgIHNldE9wZW4oZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNvbnRpbnVlID0gKCkgPT4ge1xyXG4gICAgc2V0T3Blbih0cnVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVMb2dpblBpbiA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBkaXNwYXRjaChjaGVja1Bpbih7IHBpbjogbG9naW5QaW4gfSwgdXNlci5pZCkpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBzZXRPcGVuKGZhbHNlKTtcclxuXHJcbiAgICAgICAgZGlzcGF0Y2godHJhbnNmZXJQcm9jZXNzKHRyYW5zZmVyKSlcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlRSQU5TRkVSX1NVQ0NFU1NcIiB9KTtcclxuICAgICAgICAgICAgU3dhbC5maXJlKHtcclxuICAgICAgICAgICAgICB0aXRsZTogXCJTdWNjZXNzIVwiLFxyXG4gICAgICAgICAgICAgIHRleHQ6IFwiVHJhbnNmZXIgU3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICAgIGljb246IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICB0aW1lcjogMTUwMCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJvdXRlci5wdXNoKHtcclxuICAgICAgICAgICAgICBwYXRobmFtZTogXCIvdHJhbnNmZXIvaGlzdG9yeVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICAgICAgdHlwZTogXCJUUkFOU0ZFUl9GQUlMVVJFXCIsXHJcbiAgICAgICAgICAgICAgcGF5bG9hZDogZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3IhXCIsXHJcbiAgICAgICAgICAgICAgdGV4dDogXCJUcmFuc2ZlciBGYWlsZWRcIixcclxuICAgICAgICAgICAgICBpY29uOiBcImVycm9yXCIsXHJcbiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICAgIHRpbWVyOiAxNTAwLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcm91dGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgIHBhdGhuYW1lOiBcIi90cmFuc2Zlci9oaXN0b3J5XCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgc2V0T3BlbihmYWxzZSk7XHJcbiAgICAgICAgU3dhbC5maXJlKHtcclxuICAgICAgICAgIHRpdGxlOiBcIkVycm9yIVwiLFxyXG4gICAgICAgICAgdGV4dDogXCJMb2dpbiBwaW4gbnVtYmVyIGZhaWxlZC4gUGxlYXNlIGVudGVyIGNvcnJlY3QgcGluIG51bWJlci5cIixcclxuICAgICAgICAgIGljb246IFwiZXJyb3JcIixcclxuICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIk9rXCIsXHJcbiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiIzYzNzlmNDtcIixcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghdHJhbnNmZXIuYW1vdW50ICYmICFkYXRhVGFyZ2V0LmlkKSB7XHJcbiAgICAgIHJvdXRlci5wdXNoKFwiL2Rhc2hib2FyZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICB0eXBlOiBcIklOU0VSVF9EQVRBX1RSQU5TRkVSXCIsXHJcbiAgICAgICAgcGF5bG9hZDogKHRyYW5zZmVyLmRhdGVUaW1lID0gbm93VGltZSgpKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2Rpc3BhdGNoXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBkLWZsZXggZC1sZy1ub25lIHB5LTRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZGFyayBtci0zXCIgb25DbGljaz17KCkgPT4gcm91dGVyLmJhY2soKX0+XHJcbiAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibS0wIGZvbnQtd2VpZ2h0LWJvbGQgYWxpZ24tc2VsZi1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1hcnJvdy1sZWZ0XCI+PC9pPlxyXG4gICAgICAgICAgPC9oNT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8aDUgY2xhc3NOYW1lPVwibS0wIGFsaWduLXNlbGYtY2VudGVyIGZvbnQtd2VpZ2h0LWJvbGRcIj5Db25maXJtYXRpb248L2g1PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkIGJvcmRlci0wIGNhcmQtbGcgc2hhZG93IHB5LTNcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keSBib2R5Y2FyZFwiPlxyXG4gICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImZvbnQtd2VpZ2h0LWJvbGRcIj5UcmFuc2ZlciBUbzwvaDU+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgYm9yZGVyLTAgc2hhZG93IG1iLTRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHkgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAge2RhdGFUYXJnZXQuaW1hZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbWctcGVvcGxlIG1yLTRcIlxyXG4gICAgICAgICAgICAgICAgICBzcmM9e2Ake3VybEltZ30vaW1hZ2VzLyR7ZGF0YVRhcmdldC5pbWFnZX1gfVxyXG4gICAgICAgICAgICAgICAgICBhbHQ9XCJcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIHtkYXRhVGFyZ2V0Lm5hbWUgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGlnbi1zZWxmLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwiZm9udC13ZWlnaHQtYm9sZFwiPntkYXRhVGFyZ2V0Lm5hbWV9PC9oNT5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCBtLTBcIj57ZGF0YVRhcmdldC5waG9uZX08L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImZvbnQtd2VpZ2h0LWJvbGRcIj5EZXRhaWxzPC9oNT5cclxuICAgICAgICAgIHsvKiA8IS0tIEFtb3VudCAtLT4gKi99XHJcbiAgICAgICAgICB7dHJhbnNmZXIuYW1vdW50ICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkIGNhcmQtYm9keSBib3JkZXItMCBzaGFkb3cgbWItM1wiPlxyXG4gICAgICAgICAgICAgIDxwPkFtb3VudDwvcD5cclxuICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibS0wIGZvbnQtd2VpZ2h0LWJvbGRcIj5cclxuICAgICAgICAgICAgICAgIFJwIHt0b1J1cGlhaCh0cmFuc2Zlci5hbW91bnQpfVxyXG4gICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHsvKiA8IS0tIEVuZCBPZiBBbW91bnQgLS0+ICovfVxyXG4gICAgICAgICAgey8qIDwhLS0gQmFsYW5jZSBsZWZ0IC0tPiAqL31cclxuICAgICAgICAgIHt0cmFuc2Zlci5iYWxhbmNlTGVmdCAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCBjYXJkLWJvZHkgYm9yZGVyLTAgbWItMyBzaGFkb3dcIj5cclxuICAgICAgICAgICAgICA8cD5CYWxhbmNlIExlZnQ8L3A+XHJcbiAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm0tMCBmb250LXdlaWdodC1ib2xkXCI+XHJcbiAgICAgICAgICAgICAgICBScCB7dG9SdXBpYWgodHJhbnNmZXIuYmFsYW5jZUxlZnQpfVxyXG4gICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHsvKiA8IS0tIEVuZCBPZiBCYWxhbmNlIExlZnQgLS0+ICovfVxyXG4gICAgICAgICAgey8qIDwhLS0gRGF0ZSAtLT4gKi99XHJcbiAgICAgICAgICB7dHJhbnNmZXIuZGF0ZVRpbWUgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgY2FyZC1ib2R5IG1iLTMgYm9yZGVyLTAgc2hhZG93XCI+XHJcbiAgICAgICAgICAgICAgPHA+RGF0ZSAmIFRpbWU8L3A+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm0tMCBmb250LXdlaWdodC1ib2xkXCI+e3RyYW5zZmVyLmRhdGVUaW1lfTwvaDU+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHsvKiA8IS0tIEVuZCBPZiBEYXRlIC0tPiAqL31cclxuICAgICAgICAgIHsvKiA8IS0tIE5vdGUgLS0+ICovfVxyXG4gICAgICAgICAge3RyYW5zZmVyLm5vdGVzICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkIGNhcmQtYm9keSBtYi01IGJvcmRlci0wIHNoYWRvd1wiPlxyXG4gICAgICAgICAgICAgIDxwPk5vdGVzPC9wPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJtLTAgZm9udC13ZWlnaHQtYm9sZFwiPnt0cmFuc2Zlci5ub3Rlc308L2g1PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICB7LyogPCEtLSBFbmQgT2YgTm90ZSAtLT4gKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kXCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsdWUgYnRuLWxnIHJhZGl1cy0xMiBkLW5vbmUgZC1sZy1ibG9ja1wiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29udGludWV9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8c21hbGwgY2xhc3NOYW1lPVwicC0zIGZvbnQtd2VpZ2h0LWJvbGRcIj4gQ29udGludWUgPC9zbWFsbD5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsdWUgYnRuLWxnIHJhZGl1cy0xMiBidG4tYmxvY2sgZC1sZy1ub25lIGQtYmxvY2tcIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbnRpbnVlfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cInAtMyBmb250LXdlaWdodC1ib2xkXCI+IENvbnRpbnVlIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICBvcGVuPXtvcGVufVxyXG4gICAgICAgICAgb25DbG9zZT17aGFuZGxlQ2xvc2V9XHJcbiAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJzaW1wbGUtbW9kYWwtdGl0bGVcIlxyXG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInNpbXBsZS1tb2RhbC1kZXNjcmlwdGlvblwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17bW9kYWxTdHlsZX0gY2xhc3NOYW1lPXtjbGFzc2VzLnBhcGVyfT5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtM1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm0tMCBmb250LXdlaWdodC1ib2xkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgRW50ZXIgUElOIHRvIFRyYW5zZmVyXHJcbiAgICAgICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm15LTQgdGV4dC1tdXRlZFwiPlxyXG4gICAgICAgICAgICAgICAgICBFbnRlciB5b3VyIDYgZGlnaXRzIFBJTiBmb3IgY29uZmlybWF0aW9uIHRvXHJcbiAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICBjb250aW51ZSB0cmFuc2ZlcnJpbmcgbW9uZXkuXHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcblxyXG4gICAgICAgICAgICAgICAgPGZvcm0+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8UGluSW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoPXs2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNyZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlPVwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgcmdiYSgxNjksIDE2OSwgMTY5LCAwLjYpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwcHhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCIzMHB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Rm9jdXNTdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBcIiAjNjM3OWY0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1lcmljXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gc2V0TG9naW5QaW4odmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1lbmRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWxnIHJhZGl1cy0xMiBidG4tYmx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMb2dpblBpbn1cclxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2dpblBpbi5sZW5ndGggPCA2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgQ29udGludWVcclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAge2BcclxuICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7XHJcbiAgICAgICAgICAgIC5jYXJkLWxnIHtcclxuICAgICAgICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmNhcmQtbGcgLmJvZHljYXJkIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5idG4tYmx1ZSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2Mzc5ZjQ7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5idG4tYmx1ZTpob3ZlciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1MjY1Y2Y7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5idG4tYmx1ZTpkaXNhYmxlZCB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkYWRhZGE7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjODg4ODhmO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmJ0bi1ibHVlOmRpc2FibGVkOmhvdmVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RhZGFkYTtcclxuICAgICAgICAgICAgY29sb3I6ICM4ODg4OGY7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuaW1nLXBlb3BsZSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDBweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkaXYuY2FyZCB7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuYmctZ3JheSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlYmVjZWM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuYmctZ3JheTpmb2N1cyB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlYmVjZWM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbnB1dDpmb2N1cyB7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuYnRuLWJsdWUge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjM3OWY0O1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmJ0bi1ibHVlOmhvdmVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzUzNjVjOTtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZXRhaWxUcmFuc2ZlcjtcclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\Tutorial Web\\\\\\\\Week 10\\\\\\\\Zwallet-Frontend\\\\\\\\components\\\\\\\\module\\\\\\\\DetailTransfer.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n\nexport default DetailTransfer;","map":{"version":3,"sources":["D:/Tutorial Web/Week 10/Zwallet-Frontend/components/module/DetailTransfer.js"],"names":["React","useState","useEffect","useRouter","useDispatch","useSelector","toRupiah","Moment","PinInput","checkPin","transferProcess","Swal","makeStyles","Modal","rand","Math","round","random","getModalStyle","top","left","transform","useStyles","theme","paper","position","width","heigth","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","DetailTransfer","router","dispatch","transfer","dataTarget","state","user","urlImg","process","env","NEXT_PUBLIC_URL_IMAGE_NO_SLASH","nowTime","dateTime","format","classes","modalStyle","open","setOpen","loginPin","setLoginPin","handleClose","handleContinue","handleLoginPin","e","preventDefault","pin","id","then","res","type","fire","title","text","icon","showConfirmButton","timer","push","pathname","catch","err","payload","response","data","message","confirmButtonText","confirmButtonColor","amount","back","image","name","phone","balanceLeft","notes","borderRadius","minWidth","borderColor","value","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport toRupiah from \"../../helpers/curencyToIDR\";\r\nimport Moment from \"moment\";\r\nimport PinInput from \"react-pin-input\";\r\nimport { checkPin } from \"../../configs/redux/actions/user\";\r\nimport { transferProcess } from \"../../configs/redux/actions/transfer\";\r\n\r\n//modal\r\nimport Swal from \"sweetalert2\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    heigth: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n// modal\r\n\r\nfunction DetailTransfer() {\r\n  const router = useRouter();\r\n  const dispatch = useDispatch();\r\n  const { transfer, dataTarget } = useSelector((state) => state.transfer);\r\n  const { user } = useSelector((state) => state.user);\r\n  const urlImg = process.env.NEXT_PUBLIC_URL_IMAGE_NO_SLASH;\r\n\r\n  const nowTime = () => {\r\n    const dateTime = Moment().format(\"MMMM DD, YYYY - HH.mm\");\r\n    return dateTime;\r\n  };\r\n\r\n  // modal\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [loginPin, setLoginPin] = useState(\"\");\r\n\r\n  // const handleOpen = (data) => {\r\n  //   setOpen(true);\r\n  // };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleContinue = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleLoginPin = (e) => {\r\n    e.preventDefault();\r\n    dispatch(checkPin({ pin: loginPin }, user.id))\r\n      .then((res) => {\r\n        setOpen(false);\r\n\r\n        dispatch(transferProcess(transfer))\r\n          .then((res) => {\r\n            dispatch({ type: \"TRANSFER_SUCCESS\" });\r\n            Swal.fire({\r\n              title: \"Success!\",\r\n              text: \"Transfer Success\",\r\n              icon: \"success\",\r\n              showConfirmButton: false,\r\n              timer: 1500,\r\n            });\r\n            router.push({\r\n              pathname: \"/transfer/history\",\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            dispatch({\r\n              type: \"TRANSFER_FAILURE\",\r\n              payload: err.response.data.message,\r\n            });\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"Transfer Failed\",\r\n              icon: \"error\",\r\n              showConfirmButton: false,\r\n              timer: 1500,\r\n            });\r\n            router.push({\r\n              pathname: \"/transfer/history\",\r\n            });\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        setOpen(false);\r\n        Swal.fire({\r\n          title: \"Error!\",\r\n          text: \"Login pin number failed. Please enter correct pin number.\",\r\n          icon: \"error\",\r\n          confirmButtonText: \"Ok\",\r\n          confirmButtonColor: \"#6379f4;\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!transfer.amount && !dataTarget.id) {\r\n      router.push(\"/dashboard\");\r\n    } else {\r\n      dispatch({\r\n        type: \"INSERT_DATA_TRANSFER\",\r\n        payload: (transfer.dateTime = nowTime()),\r\n      });\r\n    }\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"container d-flex d-lg-none py-4\">\r\n        <div className=\"text-dark mr-3\" onClick={() => router.back()}>\r\n          <h5 className=\"m-0 font-weight-bold align-self-center\">\r\n            <i class=\"bi bi-arrow-left\"></i>\r\n          </h5>\r\n        </div>\r\n        <h5 className=\"m-0 align-self-center font-weight-bold\">Confirmation</h5>\r\n      </div>\r\n      <div className=\"card border-0 card-lg shadow py-3\">\r\n        <div className=\"card-body bodycard\">\r\n          <h5 className=\"font-weight-bold\">Transfer To</h5>\r\n          <div className=\"card border-0 shadow mb-4\">\r\n            <div className=\"card-body d-flex\">\r\n              {dataTarget.image && (\r\n                <img\r\n                  className=\"img-people mr-4\"\r\n                  src={`${urlImg}/images/${dataTarget.image}`}\r\n                  alt=\"\"\r\n                />\r\n              )}\r\n              {dataTarget.name && (\r\n                <div className=\"align-self-center\">\r\n                  <h5 className=\"font-weight-bold\">{dataTarget.name}</h5>\r\n                  <p className=\"text-muted m-0\">{dataTarget.phone}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <h5 className=\"font-weight-bold\">Details</h5>\r\n          {/* <!-- Amount --> */}\r\n          {transfer.amount && (\r\n            <div className=\"card card-body border-0 shadow mb-3\">\r\n              <p>Amount</p>\r\n              <h5 className=\"m-0 font-weight-bold\">\r\n                Rp {toRupiah(transfer.amount)}\r\n              </h5>\r\n            </div>\r\n          )}\r\n          {/* <!-- End Of Amount --> */}\r\n          {/* <!-- Balance left --> */}\r\n          {transfer.balanceLeft && (\r\n            <div className=\"card card-body border-0 mb-3 shadow\">\r\n              <p>Balance Left</p>\r\n              <h5 className=\"m-0 font-weight-bold\">\r\n                Rp {toRupiah(transfer.balanceLeft)}\r\n              </h5>\r\n            </div>\r\n          )}\r\n          {/* <!-- End Of Balance Left --> */}\r\n          {/* <!-- Date --> */}\r\n          {transfer.dateTime && (\r\n            <div className=\"card card-body mb-3 border-0 shadow\">\r\n              <p>Date & Time</p>\r\n              <div className=\"input-group\">\r\n                <h5 className=\"m-0 font-weight-bold\">{transfer.dateTime}</h5>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {/* <!-- End Of Date --> */}\r\n          {/* <!-- Note --> */}\r\n          {transfer.notes && (\r\n            <div className=\"card card-body mb-5 border-0 shadow\">\r\n              <p>Notes</p>\r\n              <div className=\"input-group\">\r\n                <h5 className=\"m-0 font-weight-bold\">{transfer.notes}</h5>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {/* <!-- End Of Note --> */}\r\n          <div className=\"d-flex justify-content-end\">\r\n            <button\r\n              className=\"btn btn-blue btn-lg radius-12 d-none d-lg-block\"\r\n              onClick={handleContinue}\r\n            >\r\n              <small className=\"p-3 font-weight-bold\"> Continue </small>\r\n            </button>\r\n            <button\r\n              className=\"btn btn-blue btn-lg radius-12 btn-block d-lg-none d-block\"\r\n              onClick={handleContinue}\r\n            >\r\n              <small className=\"p-3 font-weight-bold\"> Continue </small>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"simple-modal-title\"\r\n          aria-describedby=\"simple-modal-description\"\r\n        >\r\n          <div style={modalStyle} className={classes.paper}>\r\n            <div>\r\n              <div className=\"p-3\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <h5 className=\"m-0 font-weight-bold\">\r\n                    Enter PIN to Transfer\r\n                  </h5>\r\n                </div>\r\n                <p className=\"my-4 text-muted\">\r\n                  Enter your 6 digits PIN for confirmation to\r\n                  <br />\r\n                  continue transferring money.\r\n                </p>\r\n\r\n                <form>\r\n                  <div className=\"w-100 d-flex justify-content-center mb-3\">\r\n                    <div className=\"row text-center\">\r\n                      <PinInput\r\n                        length={6}\r\n                        focus\r\n                        secret\r\n                        initialValue=\"\"\r\n                        inputStyle={{\r\n                          border: \"1px solid rgba(169, 169, 169, 0.6)\",\r\n                          borderRadius: \"10px\",\r\n                          width: \"10%\",\r\n                          minWidth: \"30px\",\r\n                        }}\r\n                        inputFocusStyle={{\r\n                          borderColor: \" #6379f4\",\r\n                        }}\r\n                        type=\"numeric\"\r\n                        onChange={(value) => setLoginPin(value)}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn btn-block btn-lg radius-12 btn-blue\"\r\n                      onClick={handleLoginPin}\r\n                      disabled={loginPin.length < 6}\r\n                      type=\"submit\"\r\n                    >\r\n                      Continue\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n      <style jsx>\r\n        {`\r\n          @media screen and (max-width: 992px) {\r\n            .card-lg {\r\n              box-shadow: none !important;\r\n            }\r\n            .card-lg .bodycard {\r\n              padding: 0 !important;\r\n            }\r\n          }\r\n          .btn-blue {\r\n            background-color: #6379f4;\r\n            color: white;\r\n          }\r\n          .btn-blue:hover {\r\n            background-color: #5265cf;\r\n            color: white;\r\n          }\r\n          .btn-blue:disabled {\r\n            background-color: #dadada;\r\n            color: #88888f;\r\n          }\r\n          .btn-blue:disabled:hover {\r\n            background-color: #dadada;\r\n            color: #88888f;\r\n          }\r\n          .img-people {\r\n            width: 100px;\r\n            height: 100px;\r\n            border-radius: 12px;\r\n            object-fit: cover;\r\n          }\r\n          div.card {\r\n            border-radius: 15px;\r\n          }\r\n          .bg-gray {\r\n            background-color: #ebecec;\r\n          }\r\n          .bg-gray:focus {\r\n            background-color: #ebecec;\r\n          }\r\n          input:focus {\r\n            box-shadow: none;\r\n          }\r\n          .btn-blue {\r\n            background-color: #6379f4;\r\n            color: white;\r\n          }\r\n\r\n          .btn-blue:hover {\r\n            background-color: #5365c9;\r\n            color: white;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailTransfer;\r\n"]},"metadata":{},"sourceType":"module"}