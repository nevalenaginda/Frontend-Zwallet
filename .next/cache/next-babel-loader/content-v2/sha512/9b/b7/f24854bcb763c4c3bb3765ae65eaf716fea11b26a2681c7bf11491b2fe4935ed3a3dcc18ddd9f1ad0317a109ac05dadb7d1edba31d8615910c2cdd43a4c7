{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"D:/Tutorial Web/Week 10/Zwallet-Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDataTarget } from \"../../configs/redux/actions/transfer\";\nimport NumberFormat from \"react-number-format\";\nimport toRupiah from \"../../helpers/curencyToIDR\";\n\nfunction AmmountNotes() {\n  var router = useRouter();\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.transfer;\n  }),\n      transfer = _useSelector.transfer,\n      dataTarget = _useSelector.dataTarget;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.user;\n  }),\n      user = _useSelector2.user;\n\n  var urlImg = process.env.NEXT_PUBLIC_URL_IMAGE_NO_SLASH;\n\n  var _useState = useState({\n    amount: \"\",\n    notes: \"\"\n  }),\n      dataTransfer = _useState[0],\n      setDataTrasnfer = _useState[1];\n\n  var handleContinue = function handleContinue() {\n    console.log(dataTransfer);\n    dispatch({\n      type: \"INSERT_DATA_TRANSEFR\",\n      action: (transfer.from_id = user.id, transfer.amount = dataTransfer.amount, transfer.status = \"1\", transfer.notes = dataTransfer.notes, transfer.balanceLeft = user.balance - dataTransfer.amount)\n    });\n    router.push({\n      pathname: \"/transfer/detail\"\n    });\n  }; // number input function\n\n\n  var withValueLimit = function withValueLimit(inputObj) {\n    var value = inputObj.value;\n    if (value < parseInt(user.balance) + 1) return inputObj;\n  };\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        id = _e$target.id,\n        value = _e$target.value;\n\n    if (id === \"amount\") {\n      if (value.match(\",\")) {\n        setDataTrasnfer(_objectSpread(_objectSpread({}, dataTransfer), {}, {\n          amount: value.split(\"Rp\")[1].replace(\",\", \"\")\n        }));\n      } else {\n        setDataTrasnfer(_objectSpread(_objectSpread({}, dataTransfer), {}, {\n          amount: value.split(\"Rp\")[1]\n        }));\n      }\n    } else {\n      setDataTrasnfer(_objectSpread(_objectSpread({}, dataTransfer), {}, _defineProperty({}, id, value)));\n    }\n  }; //get data target\n\n\n  useEffect(function () {\n    if (!transfer.to_id) {\n      router.push(\"/dashboard\");\n    } else {\n      dispatch(getDataTarget(transfer.to_id));\n    }\n  }, [dispatch, transfer]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"jsx-1512633450\" + \" \" + \"\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"jsx-1512633450\" + \" \" + \"container d-flex d-lg-none\",\n      children: [/*#__PURE__*/_jsx(Link, {\n        href: \"/transfer\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-1512633450\" + \" \" + \"text-dark mr-3\",\n          children: /*#__PURE__*/_jsx(\"h5\", {\n            className: \"jsx-1512633450\" + \" \" + \"m-0 font-weight-bold align-self-center\",\n            children: /*#__PURE__*/_jsx(\"i\", {\n              className: \"jsx-1512633450\" + \" \" + \"fas fa-arrow-left\"\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"h5\", {\n        className: \"jsx-1512633450\" + \" \" + \"m-0 align-self-center font-weight-bold\",\n        children: \"Transfer\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"jsx-1512633450\" + \" \" + \"card border-0 shadow card-lg my-lg-5\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"jsx-1512633450\" + \" \" + \"card-body\",\n        children: [/*#__PURE__*/_jsx(\"h5\", {\n          className: \"jsx-1512633450\" + \" \" + \"font-weight-bold d-none d-lg-block\",\n          children: \"Transfer Money\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-1512633450\" + \" \" + \"card border-0 shadow mb-4\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1512633450\" + \" \" + \"card-body d-flex\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-1512633450\" + \" \" + \"align-self-center d-flex\",\n              children: [dataTarget.image ? /*#__PURE__*/_jsx(\"img\", {\n                src: \"\".concat(urlImg, \"/images/\").concat(dataTarget.image),\n                alt: \"\",\n                className: \"jsx-1512633450\" + \" \" + \"img-people mr-4\"\n              }) : /*#__PURE__*/_jsx(\"img\", {\n                src: require(\"../../assets/images/default-user.svg\"),\n                alt: \"\",\n                className: \"jsx-1512633450\" + \" \" + \"img-people mr-4\"\n              }), dataTarget.name && dataTarget.phone ? /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-1512633450\" + \" \" + \"align-self-center\",\n                children: [/*#__PURE__*/_jsx(\"h5\", {\n                  className: \"jsx-1512633450\" + \" \" + \"font-weight-bold\",\n                  children: dataTarget.name\n                }), /*#__PURE__*/_jsx(\"small\", {\n                  className: \"jsx-1512633450\" + \" \" + \"text-muted m-0\",\n                  children: dataTarget.phone\n                })]\n              }) : /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-1512633450\" + \" \" + \"align-self-center\",\n                children: [/*#__PURE__*/_jsx(\"h5\", {\n                  className: \"jsx-1512633450\" + \" \" + \"font-weight-bold\"\n                }), /*#__PURE__*/_jsx(\"small\", {\n                  className: \"jsx-1512633450\" + \" \" + \"text-muted m-0\"\n                })]\n              })]\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-1512633450\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-1512633450\" + \" \" + \"text-muted d-none d-lg-block\",\n            children: [\"Type the amount you want to transfer and then\", /*#__PURE__*/_jsx(\"br\", {\n              className: \"jsx-1512633450\"\n            }), \"press continue to the next steps.\"]\n          }), dataTarget && /*#__PURE__*/_jsx(NumberFormat, {\n            prefix: \"Rp\",\n            placeholder: \"Rp0\",\n            className: \"box-shadow-none form-control form-control-lg text-center border-0  font-weight-bold mb-3\",\n            onChange: handleChange,\n            id: \"amount\",\n            name: \"amount\",\n            isAllowed: withValueLimit,\n            disabled: dataTarget.balance === 0 ? true : false\n          }), dataTarget.balance ? /*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-1512633450\" + \" \" + \"font-weight-bold text-center mb-5\",\n            children: [\"Rp\", toRupiah(user.balance), \" available\"]\n          }) : /*#__PURE__*/_jsx(\"p\", {\n            className: \"jsx-1512633450\" + \" \" + \"font-weight-bold text-center mb-5\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1512633450\" + \" \" + \"row w-100 d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-1512633450\" + \" \" + \"col-lg-6\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-1512633450\" + \" \" + \"input-group\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-1512633450\" + \" \" + \"input-group-prepend\",\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-1512633450\" + \" \" + \"input-group-text border-top-0 border-left-0 bg-white rounded-0\",\n                    children: /*#__PURE__*/_jsx(\"i\", {\n                      \"aria-hidden\": \"true\",\n                      className: \"jsx-1512633450\" + \" \" + \"fas fa-pencil-alt\"\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Add some notes\",\n                  name: \"notes\",\n                  id: \"notes\",\n                  onChange: handleChange,\n                  className: \"jsx-1512633450\" + \" \" + \"form-control border-top-0 border-left-0 border-right-0 bg-white rounded-0\"\n                })]\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-1512633450\" + \" \" + \"pt-5 d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsx(\"button\", {\n            onClick: handleContinue,\n            className: \"jsx-1512633450\" + \" \" + \"btn btn-lg btn-blue radius-12\",\n            children: /*#__PURE__*/_jsx(\"small\", {\n              className: \"jsx-1512633450\" + \" \" + \"p-3\",\n              children: \"Continue\"\n            })\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"1512633450\",\n      children: [\"@media screen and (max-width:992px){.card-lg.jsx-1512633450{box-shadow:none !important;}}\", \".btn-blue.jsx-1512633450{background-color:#6379f4;color:white;}\", \".btn-blue.jsx-1512633450:hover{background-color:#5365c9;color:white;}\", \"input.font-weight-bold.border-0.jsx-1512633450{font-size:32px;}\", \".img-people.jsx-1512633450{width:50px;height:50px;border-radius:12px;object-fit:cover;}\", \"div.card.jsx-1512633450{border-radius:15px;}\", \".bg-gray.jsx-1512633450{background-color:#ebecec;}\", \".bg-gray.jsx-1512633450:focus{background-color:#ebecec;}\", \"input.jsx-1512633450:focus{box-shadow:none;}\", \".box-shadow-none.jsx-1512633450{box-shadow:none !important;}\"]\n    })]\n  });\n}\n\nexport default AmmountNotes;","map":null,"metadata":{},"sourceType":"module"}