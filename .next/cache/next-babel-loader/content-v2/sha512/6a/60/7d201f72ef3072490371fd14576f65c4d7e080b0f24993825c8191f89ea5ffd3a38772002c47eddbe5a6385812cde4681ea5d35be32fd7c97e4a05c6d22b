{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"D:/Tutorial Web/Week 10/Zwallet-Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Link from \"next/link\";\nimport Swal from \"sweetalert2\";\nimport { useRouter } from \"next/router\";\nimport AsideLeft from \"../../components/module/AsideLeft\";\nimport Input from \"../../components/base/Input\";\nimport Button from \"../../components/base/Button\";\nimport Layout from \"../../components/base/Layout\";\n\nfunction login() {\n  var router = useRouter();\n\n  var _useState = useState({\n    email: \"\",\n    password: \"\"\n  }),\n      dataLogin = _useState[0],\n      setDataLogin = _useState[1];\n\n  var handleFormLogin = function handleFormLogin(event) {\n    var newData = _objectSpread({}, dataLogin);\n\n    newData[event.target.name] = event.target.value;\n    setDataLogin(newData);\n  };\n\n  var onSubmitHandler = function onSubmitHandler(event) {\n    event.preventDefault();\n    var URLAPI = process.env.NEXT_PUBLIC_URL_API_WITH_SLASH;\n    axios.post(\"\".concat(URLAPI, \"login\"), dataLogin, {\n      withCredentials: true\n    }).then(function (res) {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"id\", res.data.id);\n\n      if (res.data.pin === true) {\n        Swal.fire({\n          title: \"Success!\",\n          text: res.data.message,\n          icon: \"success\",\n          confirmButtonText: \"Ok\",\n          confirmButtonColor: \"#6379f4;\"\n        }).then(function (result) {\n          if (result.isConfirmed) {\n            router.push(\"/dashboard\");\n          } else {\n            router.push(\"/dashboard\");\n          }\n        });\n      } else {\n        Swal.fire({\n          title: \"Success!\",\n          text: res.data.message,\n          icon: \"success\",\n          confirmButtonText: \"Ok\",\n          confirmButtonColor: \"#6379f4;\"\n        }).then(function (result) {\n          if (result.isConfirmed) {\n            router.push(\"/auth/pin\");\n          } else {\n            router.push(\"/auth/pin\");\n          }\n        });\n      }\n    })[\"catch\"](function (err) {\n      console.log(err.response.data.message);\n      Swal.fire({\n        title: \"Error!\",\n        text: err.response.data.message,\n        icon: \"error\",\n        confirmButtonText: \"Ok\",\n        confirmButtonColor: \"#a4a7b4\"\n      });\n    });\n  };\n\n  useEffect(function () {\n    if (localStorage.getItem(\"token\")) {\n      router.push(\"/dashboard\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsxs(Layout, {\n    title: \"Login\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"jsx-2093279435\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"jsx-2093279435\" + \" \" + \"row min-vh-100 no-gutters\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-2093279435\" + \" \" + \"col-7 bg-blue min-vh-100 bg-accent overflow-auto d-none d-lg-flex px-5\",\n          children: /*#__PURE__*/_jsx(AsideLeft, {})\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-2093279435\" + \" \" + \"col w-100 min-vh-100 overflow-auto d-flex px-lg-5 phone-brand\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2093279435\" + \" \" + \"w-100 align-self-lg-center\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-2093279435\" + \" \" + \"d-flex d-lg-none h-brand\",\n              children: /*#__PURE__*/_jsx(\"h3\", {\n                className: \"jsx-2093279435\" + \" \" + \"font-weight-bold w-100 align-self-center m-0 text-center text-blue\",\n                children: \"Zwallet\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-2093279435\" + \" \" + \"align-self-center w-100\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-2093279435\" + \" \" + \"d-none d-lg-block\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"jsx-2093279435\" + \" \" + \"py-5 px-2 pr-5\",\n                  children: [/*#__PURE__*/_jsx(\"h4\", {\n                    className: \"jsx-2093279435\" + \" \" + \"font-weight-bold\",\n                    children: \"Start Accessing Banking Needs With All Devices and All Platforms With 30.000+ Users\"\n                  }), /*#__PURE__*/_jsx(\"p\", {\n                    className: \"jsx-2093279435\" + \" \" + \"text-muted\",\n                    children: \"Transfering money is easier than ever, you can access Zwallet wherever you are. Desktop, laptop, mobile phone? we cover all of that for you!\"\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-2093279435\" + \" \" + \"d-flex d-lg-block\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-2093279435\" + \" \" + \"align-self-center w-100\",\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"jsx-2093279435\" + \" \" + \"bg-white round h-content\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"jsx-2093279435\" + \" \" + \"py-5 d-block d-lg-none\",\n                      children: [/*#__PURE__*/_jsx(\"h4\", {\n                        className: \"jsx-2093279435\" + \" \" + \"font-weight-bold text-center\",\n                        children: \"Login\"\n                      }), /*#__PURE__*/_jsxs(\"p\", {\n                        className: \"jsx-2093279435\" + \" \" + \"text-muted text-center\",\n                        children: [\"Login to your existing account to access \", /*#__PURE__*/_jsx(\"br\", {\n                          className: \"jsx-2093279435\"\n                        }), \"all the features in Zwallet\"]\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"jsx-2093279435\" + \" \" + \"container\",\n                      children: /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"jsx-2093279435\" + \" \" + \"my-2 m-lg-0 p-lg-0 px-4\",\n                        children: [/*#__PURE__*/_jsxs(\"form\", {\n                          onSubmit: onSubmitHandler,\n                          className: \"jsx-2093279435\",\n                          children: [/*#__PURE__*/_jsxs(\"div\", {\n                            className: \"jsx-2093279435\" + \" \" + \"input-group mb-3\",\n                            children: [/*#__PURE__*/_jsx(\"div\", {\n                              className: \"jsx-2093279435\" + \" \" + \"input-group-prepend\",\n                              children: /*#__PURE__*/_jsx(\"span\", {\n                                id: \"basic-addon1\",\n                                className: \"jsx-2093279435\" + \" \" + \"input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                                children: /*#__PURE__*/_jsx(\"i\", {\n                                  className: \"jsx-2093279435\" + \" \" + \"far fa-envelope\"\n                                })\n                              })\n                            }), /*#__PURE__*/_jsx(Input, {\n                              type: \"email\",\n                              className: \"form-control border-top-0 border-left-0 border-right-0 rounded-0\",\n                              placeholder: \"Enter your e-mail\",\n                              name: \"email\",\n                              onChange: handleFormLogin,\n                              required: true\n                            })]\n                          }), /*#__PURE__*/_jsxs(\"div\", {\n                            className: \"jsx-2093279435\" + \" \" + \"input-group mb-3\",\n                            children: [/*#__PURE__*/_jsx(\"div\", {\n                              className: \"jsx-2093279435\" + \" \" + \"input-group-prepend\",\n                              children: /*#__PURE__*/_jsx(\"span\", {\n                                id: \"basic-addon1\",\n                                className: \"jsx-2093279435\" + \" \" + \"input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                                children: /*#__PURE__*/_jsx(\"i\", {\n                                  className: \"jsx-2093279435\" + \" \" + \"fas fa-lock\"\n                                })\n                              })\n                            }), /*#__PURE__*/_jsx(Input, {\n                              type: \"password\",\n                              className: \"border-top-0 border-left-0 border-right-0 rounded-0\",\n                              placeholder: \"Enter your password\",\n                              name: \"password\",\n                              onChange: handleFormLogin\n                            }), /*#__PURE__*/_jsx(\"div\", {\n                              className: \"jsx-2093279435\" + \" \" + \"input-group-append\",\n                              children: /*#__PURE__*/_jsx(\"span\", {\n                                id: \"basic-addon1\",\n                                className: \"jsx-2093279435\" + \" \" + \"input-group-text bg-white border-top-0 border-left-0 border-right-0\",\n                                children: /*#__PURE__*/_jsx(\"span\", {\n                                  className: \"jsx-2093279435\" + \" \" + \"text-decoration-none text-dark\",\n                                  children: /*#__PURE__*/_jsx(\"i\", {\n                                    className: \"jsx-2093279435\" + \" \" + \"fas fa-eye-slash\"\n                                  })\n                                })\n                              })\n                            })]\n                          }), /*#__PURE__*/_jsx(\"h6\", {\n                            className: \"jsx-2093279435\" + \" \" + \"font-weight-bold text-right\",\n                            children: /*#__PURE__*/_jsx(Link, {\n                              href: \"/auth/forgot-password\",\n                              children: /*#__PURE__*/_jsx(\"a\", {\n                                className: \"jsx-2093279435\" + \" \" + \"text-decoration-none text-muted\",\n                                children: \"Forgot password?\"\n                              })\n                            })\n                          }), /*#__PURE__*/_jsx(Button, {\n                            type: \"submit\",\n                            className: \"btn btn-secondary btn-block\",\n                            style: {\n                              borderRadius: \"12px\"\n                            },\n                            children: \"Login\"\n                          })]\n                        }), /*#__PURE__*/_jsxs(\"p\", {\n                          className: \"jsx-2093279435\" + \" \" + \"text-center pt-4\",\n                          children: [\"Don\\u2019t have an account? Let\\u2019s\", /*#__PURE__*/_jsx(Link, {\n                            href: \"/auth/register\",\n                            children: /*#__PURE__*/_jsx(\"a\", {\n                              className: \"jsx-2093279435\" + \" \" + \"text-decoration-none\",\n                              children: \" Sign Up\"\n                            })\n                          })]\n                        })]\n                      })\n                    })]\n                  })\n                })\n              })]\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"2093279435\",\n      children: [\"@media screen and (max-width:992px){.phone-brand.jsx-2093279435{background-color:ghostwhite;}.h-content.jsx-2093279435{height:calc(100vh - 75px);box-shadow:0 0.5rem 1rem rgba(0,0,0,0.15) !important;}}\", \".round.jsx-2093279435{border-radius:25px 25px 0px 0px;}\", \".h-brand.jsx-2093279435{height:100px;}\"]\n    })]\n  });\n}\n\nexport default login;","map":null,"metadata":{},"sourceType":"module"}