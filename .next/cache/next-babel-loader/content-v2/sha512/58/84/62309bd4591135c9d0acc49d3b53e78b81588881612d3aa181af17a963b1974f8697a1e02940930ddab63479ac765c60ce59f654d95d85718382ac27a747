{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useState, useEffect } from \"react\";\nimport toRupiah from \"../../helpers/curencyToIDR\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAllHistory } from \"../../configs/redux/actions/history\"; // modal\n\nimport Moment from \"moment\";\nimport Swal from \"sweetalert2\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Router from \"next/router\";\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    heigth: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n})); // modal\n\nfunction HistoryAllTransaction() {\n  const dispatch = useDispatch();\n  const {\n    message,\n    allHistory: dataAllUser\n  } = useSelector(state => state.history);\n  const urlImg = process.env.NEXT_PUBLIC_URL_IMAGE_NO_SLASH;\n  const URLAPI = process.env.NEXT_PUBLIC_URL_API_WITH_SLASH;\n  let idUser, token;\n\n  if (false) {\n    idUser = localStorage.getItem(\"id\");\n    token = localStorage.getItem(\"token\");\n  }\n\n  useEffect(() => {\n    dispatch(getAllHistory(idUser, 100));\n  }, [dispatch]); // modal\n  // const [detailHistory, setDetailHistory] = useState({});\n  // const classes = useStyles();\n  // const [modalStyle] = React.useState(getModalStyle);\n  // const [open, setOpen] = React.useState(false);\n\n  const handleDetail = id => {\n    Router.push(`/history/${id}`);\n  }; // const handleOpen = (data) => {\n  //   setDetailHistory(data);\n  //   console.log(\"ini\", data);\n  //   setOpen(true);\n  // };\n  // const handleClose = () => {\n  //   setOpen(false);\n  // };\n  // const btaccept = (id) => {\n  //   const data = {\n  //     id,\n  //     token,\n  //   };\n  //   setOpen(false);\n  //   axios\n  //     .post(`${URLAPI}transferSuccess/${id}`, data, {\n  //       withCredentials: true,\n  //     })\n  //     .then((response) => {\n  //       setOpen(false);\n  //       getData();\n  //       Swal.fire({\n  //         icon: \"success\",\n  //         title: response.data.message,\n  //         showConfirmButton: false,\n  //         timer: 1500,\n  //       });\n  //     })\n  //     .catch((err) => {\n  //       Swal.fire({\n  //         icon: \"error\",\n  //         title: \"Failed\",\n  //         showConfirmButton: false,\n  //         timer: 1500,\n  //       });\n  //     });\n  // };\n  // const btcancelUser = (id) => {\n  //   const data = {\n  //     id,\n  //     token,\n  //   };\n  //   setOpen(false);\n  //   axios\n  //     .post(`${URLAPI}transferCancel/${id}`, data, {\n  //       withCredentials: true,\n  //     })\n  //     .then((response) => {\n  //       getData();\n  //       Swal.fire({\n  //         icon: \"success\",\n  //         title: response.data.message,\n  //         showConfirmButton: false,\n  //         timer: 1500,\n  //       });\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       Swal.fire({\n  //         icon: \"error\",\n  //         title: \"Failed\",\n  //         showConfirmButton: false,\n  //         timer: 1500,\n  //       });\n  //     });\n  // };\n  // const btcancelTarget = (id) => {\n  //   const data = {\n  //     id,\n  //     token,\n  //   };\n  //   setOpen(false);\n  //   axios\n  //     .post(`${URLAPI}transferCancel/${id}`, data, {\n  //       withCredentials: true,\n  //     })\n  //     .then((response) => {\n  //       getData();\n  //       Swal.fire({\n  //         icon: \"success\",\n  //         title: response.data.message,\n  //         showConfirmButton: false,\n  //         timer: 1500,\n  //       });\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       Swal.fire({\n  //         icon: \"error\",\n  //         title: \"Failed\",\n  //         showConfirmButton: false,\n  //         timer: 1500,\n  //       });\n  //     });\n  // };\n  // const changeTime = (time) => {\n  //   return Moment(time).format(\"MMMM DD, YYYY - HH.mm\");\n  // };\n  // end modal\n\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"jsx-3717989544\" + \" \" + \"card card-lg h-on-lg border-0 shadow\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"jsx-3717989544\" + \" \" + \"card-body p-0 p-lg-4\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"jsx-3717989544\" + \" \" + \"container h-100 d-flex flex-column\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-3717989544\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-3717989544\" + \" \" + \"d-none d-lg-block\",\n            children: /*#__PURE__*/_jsx(\"h5\", {\n              className: \"jsx-3717989544\" + \" \" + \"font-weight-bold\",\n              children: \"Transaction History\"\n            })\n          }), /*#__PURE__*/_jsx(\"h6\", {\n            className: \"jsx-3717989544\" + \" \" + \"font-weight-bold text-muted mb-3\",\n            children: \"This Week\"\n          })]\n        }), message !== \"Data unavailable\" ? /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-3717989544\" + \" \" + \"pembungkus looping h-content overflow-auto\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-3717989544\" + \" \" + \"text-decoration-none text-dark \",\n            children: dataAllUser.data ? dataAllUser.data.map((itm, idx) => {\n              return /*#__PURE__*/_jsx(\"div\", {\n                onClick: event => handleDetail(itm.id),\n                className: \"jsx-3717989544\" + \" \" + \"card shadow border-0 mb-3 pointer\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-3717989544\" + \" \" + \"card-body h-100\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"jsx-3717989544\" + \" \" + \"d-flex\",\n                    children: /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"jsx-3717989544\" + \" \" + \"row align-self-center w-100\",\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: \"jsx-3717989544\" + \" \" + \"col-4 col-sm-3 col-md-2 imgCenter d-flex justify-content-center\",\n                        children: itm.to_id !== idUser ? /*#__PURE__*/_jsx(\"img\", {\n                          src: `${urlImg}/images/${itm.to_image}`,\n                          className: \"jsx-3717989544\" + \" \" + \"imgCenter\"\n                        }) : /*#__PURE__*/_jsx(\"img\", {\n                          src: `${urlImg}/images/${itm.from_image}`,\n                          className: \"jsx-3717989544\" + \" \" + \"imgCenter\"\n                        })\n                      }), /*#__PURE__*/_jsx(\"div\", {\n                        className: \"jsx-3717989544\" + \" \" + \"col d-flex\",\n                        children: /*#__PURE__*/_jsx(\"div\", {\n                          className: \"jsx-3717989544\" + \" \" + \"align-self-center w-100\",\n                          children: /*#__PURE__*/_jsxs(\"div\", {\n                            className: \"jsx-3717989544\" + \" \" + \"d-flex justify-content-between\",\n                            children: [/*#__PURE__*/_jsxs(\"div\", {\n                              className: \"jsx-3717989544\",\n                              children: [itm.to_id !== idUser ? /*#__PURE__*/_jsx(\"h5\", {\n                                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold m-0\",\n                                children: itm.to_name\n                              }) : /*#__PURE__*/_jsx(\"h5\", {\n                                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold m-0\",\n                                children: itm.from_name\n                              }), itm.status === 1 ? /*#__PURE__*/_jsx(\"p\", {\n                                className: \"jsx-3717989544\" + \" \" + \"text-muted m-0\",\n                                children: \"Pending\"\n                              }) : itm.status === 2 ? /*#__PURE__*/_jsx(\"p\", {\n                                className: \"jsx-3717989544\" + \" \" + \"text-muted m-0\",\n                                children: \"Transfer\"\n                              }) : itm.status === 3 ? /*#__PURE__*/_jsx(\"p\", {\n                                className: \"jsx-3717989544\" + \" \" + \"text-muted m-0\",\n                                children: \"Cancel\"\n                              }) : /*#__PURE__*/_jsx(\"p\", {\n                                className: \"jsx-3717989544\" + \" \" + \"text-muted m-0\",\n                                children: \"Top Up\"\n                              })]\n                            }), /*#__PURE__*/_jsx(\"div\", {\n                              className: \"jsx-3717989544\",\n                              children: itm.status === 1 ? /*#__PURE__*/_jsxs(\"h5\", {\n                                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold c-pending\",\n                                children: [\"Rp\", toRupiah(itm.amount)]\n                              }) : itm.status === 2 && itm.to_id !== idUser ? /*#__PURE__*/_jsxs(\"h5\", {\n                                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold c-transfer\",\n                                children: [\"-Rp\", toRupiah(itm.amount)]\n                              }) : itm.status === 2 ? /*#__PURE__*/_jsxs(\"h5\", {\n                                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold text-success\",\n                                children: [\"+Rp\", toRupiah(itm.amount)]\n                              }) : itm.status === 3 ? /*#__PURE__*/_jsxs(\"h5\", {\n                                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold c-cancel\",\n                                children: [\"Rp\", toRupiah(itm.amount)]\n                              }) : /*#__PURE__*/_jsxs(\"h5\", {\n                                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold c-topup\",\n                                children: [\"+Rp\", toRupiah(itm.amount)]\n                              })\n                            })]\n                          })\n                        })\n                      })]\n                    })\n                  })\n                })\n              }, idx);\n            }) : \"\"\n          })\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-3717989544\" + \" \" + \"h-100 d-flex\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-3717989544\" + \" \" + \"align-self-center w-100 text-center\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-3717989544\",\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                src: require(\"../../assets/images/notransaction.png\"),\n                alt: \"\",\n                className: \"jsx-3717989544\"\n              }), /*#__PURE__*/_jsx(\"h4\", {\n                className: \"jsx-3717989544\" + \" \" + \"font-weight-bold my-3\",\n                children: \"It's Clear!\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: \"jsx-3717989544\" + \" \" + \"text-muted\",\n                children: \"You've never done a transaction so far\"\n              })]\n            })\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"3717989544\",\n      children: [\"@media screen and (max-width:992px){.card-lg.jsx-3717989544{background-color:transparent !important;box-shadow:none !important;}.h-content.jsx-3717989544{height:calc(100vh - 12rem) !important;}}\", \".h-content.jsx-3717989544{height:calc(90vh - 12rem);}\", \".imgCenter.jsx-3717989544{object-fit:cover;border-radius:15px;height:60px;width:60px;}\", \"div.card.jsx-3717989544{border-radius:15px;}\", \".c-transfer.jsx-3717989544,.c-cancel.jsx-3717989544{color:red;}\", \".c-pending.jsx-3717989544{color:orange;}\", \".c-topup.jsx-3717989544{color:#6379f4;}\", \".imageHistory.jsx-3717989544{height:150px;width:100%;object-fit:cover;border-radius:15px;}\", \"@media screen and (min-width:992px){.h-on-lg.jsx-3717989544{height:100%;}}\"]\n    })]\n  });\n}\n\nexport default HistoryAllTransaction;","map":null,"metadata":{},"sourceType":"module"}