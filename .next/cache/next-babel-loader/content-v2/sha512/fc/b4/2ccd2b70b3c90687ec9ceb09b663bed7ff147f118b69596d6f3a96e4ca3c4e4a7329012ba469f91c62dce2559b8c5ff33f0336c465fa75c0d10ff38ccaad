{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { useRouter } from \"next/router\";\n\nfunction ChangePassword() {\n  const router = useRouter();\n  let {\n    0: typeCurrentPw,\n    1: setTypeCurrentPw\n  } = useState(false);\n  const {\n    0: curPw,\n    1: setCurPw\n  } = useState(\"\");\n  const {\n    0: newPw,\n    1: setNewPw\n  } = useState(\"\");\n  const {\n    0: repNewPw,\n    1: setRepNewPw\n  } = useState(\"\");\n  const URLAPI = process.env.NEXT_PUBLIC_URL_API_WITH_SLASH;\n  let idUser, token;\n\n  if (false) {\n    idUser = localStorage.getItem(\"id\");\n    token = localStorage.getItem(\"token\");\n  }\n\n  const handleTypeCurrentPw = e => {\n    setTypeCurrentPw(!typeCurrentPw); // console.log(typeCurrentPw);\n  };\n\n  const handleChangePw = e => {\n    e.preventDefault();\n\n    if (newPw !== repNewPw) {\n      Swal.fire({\n        title: \"Info!\",\n        text: \"Your new password and repeat new password must same\",\n        icon: \"inf\",\n        confirmButtonText: \"Ok\",\n        confirmButtonColor: \"#6379f4;\"\n      });\n    } else {\n      const dataPassword = {\n        oldpassword: curPw,\n        password: newPw\n      };\n      axios.patch(`${URLAPI}changePassword/${idUser}`, dataPassword, {\n        withCredentials: true\n      }).then(res => {\n        router.push(\"/profile\");\n        Swal.fire({\n          title: \"Success!\",\n          text: res.data.message,\n          icon: \"success\",\n          confirmButtonText: \"Ok\",\n          confirmButtonColor: \"#6379f4;\"\n        });\n      }).catch(err => {\n        Swal.fire({\n          title: \"Error!\",\n          text: err.response.data.message,\n          icon: \"error\",\n          confirmButtonText: \"Ok\",\n          confirmButtonColor: \"#a4a7b4\"\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"jsx-108711949\" + \" \" + \"card shadow border-0 radius-12 h-100\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"jsx-108711949\" + \" \" + \"card-body\",\n      children: [/*#__PURE__*/_jsx(\"h5\", {\n        className: \"jsx-108711949\" + \" \" + \"font-weight-bold mb-3\",\n        children: \"Change Password\"\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        className: \"jsx-108711949\" + \" \" + \"text-muted mb-5\",\n        children: [\"You must enter your current password and then \", /*#__PURE__*/_jsx(\"br\", {\n          className: \"jsx-108711949\"\n        }), \"type your new password twice\"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"jsx-108711949\" + \" \" + \"container\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-108711949\" + \" \" + \"row d-flex justify-content-center\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-108711949\" + \" \" + \"col-md-8\",\n            children: /*#__PURE__*/_jsxs(\"form\", {\n              className: \"jsx-108711949\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-108711949\" + \" \" + \"input-group input-group-lg mb-5\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-108711949\" + \" \" + \"input-group-prepend\",\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-108711949\" + \" \" + \"input-group-text text-muted bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                    children: /*#__PURE__*/_jsx(\"i\", {\n                      className: \"jsx-108711949\" + \" \" + \"fas fa-lock\"\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: typeCurrentPw ? \"text\" : \"password\",\n                  placeholder: \"Current password\",\n                  autocomplete: \"new-password\",\n                  onChange: e => setCurPw(e.target.value),\n                  required: true,\n                  className: \"jsx-108711949\" + \" \" + \"form-control text-muted border-top-0 border-left-0 border-right-0 rounded-0\"\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-108711949\" + \" \" + \"input-group-append\",\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-108711949\" + \" \" + \"input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                    children: /*#__PURE__*/_jsx(\"span\", {\n                      onClick: e => handleTypeCurrentPw(e),\n                      className: \"jsx-108711949\" + \" \" + \"text-muted\",\n                      children: typeCurrentPw ? /*#__PURE__*/_jsx(\"i\", {\n                        className: \"jsx-108711949\" + \" \" + \"fas fa-eye\"\n                      }) : /*#__PURE__*/_jsx(\"i\", {\n                        className: \"jsx-108711949\" + \" \" + \"fas fa-eye-slash\"\n                      })\n                    })\n                  })\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-108711949\" + \" \" + \"input-group input-group-lg mb-5\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-108711949\" + \" \" + \"input-group-prepend\",\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-108711949\" + \" \" + \"input-group-text text-muted bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                    children: /*#__PURE__*/_jsx(\"i\", {\n                      className: \"jsx-108711949\" + \" \" + \"fas fa-lock\"\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: typeCurrentPw ? \"text\" : \"password\",\n                  placeholder: \"New password\",\n                  autocomplete: \"new-password\",\n                  onChange: e => setNewPw(e.target.value),\n                  required: true,\n                  className: \"jsx-108711949\" + \" \" + \"form-control text-muted border-top-0 border-left-0 border-right-0 rounded-0\"\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-108711949\" + \" \" + \"input-group-append\",\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-108711949\" + \" \" + \"input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                    children: /*#__PURE__*/_jsx(\"span\", {\n                      onClick: e => handleTypeCurrentPw(e),\n                      className: \"jsx-108711949\" + \" \" + \"text-muted\",\n                      children: typeCurrentPw ? /*#__PURE__*/_jsx(\"i\", {\n                        className: \"jsx-108711949\" + \" \" + \"fas fa-eye\"\n                      }) : /*#__PURE__*/_jsx(\"i\", {\n                        className: \"jsx-108711949\" + \" \" + \"fas fa-eye-slash\"\n                      })\n                    })\n                  })\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-108711949\" + \" \" + \"input-group input-group-lg\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-108711949\" + \" \" + \"input-group-prepend\",\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-108711949\" + \" \" + \"input-group-text text-muted bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                    children: /*#__PURE__*/_jsx(\"i\", {\n                      className: \"jsx-108711949\" + \" \" + \"fas fa-lock\"\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: typeCurrentPw ? \"text\" : \"password\",\n                  placeholder: \"Repeat new password\",\n                  autocomplete: \"new-password\",\n                  onChange: e => setRepNewPw(e.target.value),\n                  required: true,\n                  className: \"jsx-108711949\" + \" \" + \"text-muted form-control border-top-0 border-left-0 border-right-0 rounded-0\"\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-108711949\" + \" \" + \"input-group-append\",\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-108711949\" + \" \" + \"input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0\",\n                    children: /*#__PURE__*/_jsx(\"span\", {\n                      onClick: e => handleTypeCurrentPw(e),\n                      className: \"jsx-108711949\" + \" \" + \"text-muted\",\n                      children: typeCurrentPw ? /*#__PURE__*/_jsx(\"i\", {\n                        className: \"jsx-108711949\" + \" \" + \"fas fa-eye\"\n                      }) : /*#__PURE__*/_jsx(\"i\", {\n                        className: \"jsx-108711949\" + \" \" + \"fas fa-eye-slash\"\n                      })\n                    })\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-108711949\" + \" \" + \"py-5\",\n                children: /*#__PURE__*/_jsx(\"button\", {\n                  type: \"submit\",\n                  disabled: curPw && newPw && repNewPw ? false : true,\n                  onClick: handleChangePw,\n                  className: \"jsx-108711949\" + \" \" + \"btn btn-block font-weight-bold radius-12 btn-lg btn-blue\",\n                  children: \"Change Password\"\n                })\n              })]\n            })\n          })\n        })\n      })]\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"108711949\",\n      children: [\"input.jsx-108711949:focus{border:1px solid #ced4da;box-shadow:none;}\", \".btn-blue.jsx-108711949{background-color:#6379f4;color:white;}\", \".btn-blue.jsx-108711949:hover{background-color:#5265cf;color:white;}\", \".btn-blue.jsx-108711949:disabled{background-color:#dadada;color:#88888f;}\", \".btn-blue.jsx-108711949:disabled.jsx-108711949:hover{background-color:#dadada;color:#88888f;}\"]\n    })]\n  });\n}\n\nexport default ChangePassword;","map":null,"metadata":{},"sourceType":"module"}