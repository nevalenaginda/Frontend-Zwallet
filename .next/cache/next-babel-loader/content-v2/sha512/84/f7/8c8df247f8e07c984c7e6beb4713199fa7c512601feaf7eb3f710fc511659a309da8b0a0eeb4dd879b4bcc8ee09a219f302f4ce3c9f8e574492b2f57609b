{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Footer from \"../../components/module/Footer\";\nimport NavBar from \"../../components/module/NavBar\";\nimport PersonalInfo from \"../../components/module/PersonalInfo\";\nimport SideBar from \"../../components/module/SideBar\";\nexport default function personalInformation({\n  user\n}) {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"bg-light min-vh-100\",\n    children: [/*#__PURE__*/_jsx(NavBar, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row py-5 py-lg-5\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"col-3 d-none d-lg-block\",\n          children: /*#__PURE__*/_jsx(SideBar, {})\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsx(PersonalInfo, {\n            name: user.name,\n            email: user.email,\n            phone: user.phone\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n}\nexport const getServerSideProps = async ctx => {\n  const URLAPI = process.env.NEXT_PUBLIC_URL_API_WITH_SLASH;\n  const URLFE = process.env.NEXT_PUBLIC_URL_FRONT_END_NO_SLASH;\n\n  try {\n    let cookie = \"\";\n\n    if (ctx.req) {\n      cookie = ctx.req.headers.cookie;\n    }\n\n    const res = await axios.get(`${URLAPI}profile`, {\n      withCredentials: true,\n      headers: {\n        cookie: cookie\n      }\n    });\n    const data = res.data.data;\n    return {\n      props: {\n        user: data\n      }\n    };\n  } catch (error) {\n    console.log(error);\n\n    if (ctx.req) {\n      ctx.res.writeHead(301, {\n        Location: `${URLFE}/auth/login`\n      });\n      ctx.res.end();\n    }\n\n    if (!ctx.req) {\n      Router.push(\"/auth/login\");\n    }\n\n    return {\n      props: {\n        user: {}\n      }\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module"}