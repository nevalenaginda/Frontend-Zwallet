_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{FBUm:function(e,t,s){"use strict";var c=s("nKUr"),r=s("MX0m"),a=s.n(r),n=s("q1tI"),o=s("vDqi"),i=s.n(o),l=s("PSD3"),d=s.n(l),j=s("20a2");t.a=function(){var e,t=Object(n.useState)(!1),s=t[0],r=t[1],o=Object(n.useState)(""),l=o[0],x=o[1],b=Object(n.useState)(""),u=b[0],p=b[1],h=Object(n.useState)(""),m=h[0],f=h[1];e=localStorage.getItem("id"),localStorage.getItem("token");var g=function(e){r(!s)};return Object(c.jsxs)("div",{className:"jsx-108711949 card shadow border-0 radius-12 h-100",children:[Object(c.jsxs)("div",{className:"jsx-108711949 card-body",children:[Object(c.jsx)("h5",{className:"jsx-108711949 font-weight-bold mb-3",children:"Change Password"}),Object(c.jsxs)("p",{className:"jsx-108711949 text-muted mb-5",children:["You must enter your current password and then ",Object(c.jsx)("br",{className:"jsx-108711949"}),"type your new password twice"]}),Object(c.jsx)("div",{className:"jsx-108711949 container",children:Object(c.jsx)("div",{className:"jsx-108711949 row d-flex justify-content-center",children:Object(c.jsx)("div",{className:"jsx-108711949 col-md-8",children:Object(c.jsxs)("form",{className:"jsx-108711949",children:[Object(c.jsxs)("div",{className:"jsx-108711949 input-group input-group-lg mb-5",children:[Object(c.jsx)("div",{className:"jsx-108711949 input-group-prepend",children:Object(c.jsx)("span",{className:"jsx-108711949 input-group-text text-muted bg-white border-top-0 border-left-0 border-right-0 rounded-0",children:Object(c.jsx)("i",{className:"jsx-108711949 fas fa-lock"})})}),Object(c.jsx)("input",{type:s?"text":"password",placeholder:"Current password",autocomplete:"new-password",onChange:function(e){return x(e.target.value)},required:!0,className:"jsx-108711949 form-control text-muted border-top-0 border-left-0 border-right-0 rounded-0"}),Object(c.jsx)("div",{className:"jsx-108711949 input-group-append",children:Object(c.jsx)("span",{className:"jsx-108711949 input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0",children:Object(c.jsx)("span",{onClick:function(e){return g()},className:"jsx-108711949 text-muted",children:s?Object(c.jsx)("i",{className:"jsx-108711949 fas fa-eye"}):Object(c.jsx)("i",{className:"jsx-108711949 fas fa-eye-slash"})})})})]}),Object(c.jsxs)("div",{className:"jsx-108711949 input-group input-group-lg mb-5",children:[Object(c.jsx)("div",{className:"jsx-108711949 input-group-prepend",children:Object(c.jsx)("span",{className:"jsx-108711949 input-group-text text-muted bg-white border-top-0 border-left-0 border-right-0 rounded-0",children:Object(c.jsx)("i",{className:"jsx-108711949 fas fa-lock"})})}),Object(c.jsx)("input",{type:s?"text":"password",placeholder:"New password",autocomplete:"new-password",onChange:function(e){return p(e.target.value)},required:!0,className:"jsx-108711949 form-control text-muted border-top-0 border-left-0 border-right-0 rounded-0"}),Object(c.jsx)("div",{className:"jsx-108711949 input-group-append",children:Object(c.jsx)("span",{className:"jsx-108711949 input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0",children:Object(c.jsx)("span",{onClick:function(e){return g()},className:"jsx-108711949 text-muted",children:s?Object(c.jsx)("i",{className:"jsx-108711949 fas fa-eye"}):Object(c.jsx)("i",{className:"jsx-108711949 fas fa-eye-slash"})})})})]}),Object(c.jsxs)("div",{className:"jsx-108711949 input-group input-group-lg",children:[Object(c.jsx)("div",{className:"jsx-108711949 input-group-prepend",children:Object(c.jsx)("span",{className:"jsx-108711949 input-group-text text-muted bg-white border-top-0 border-left-0 border-right-0 rounded-0",children:Object(c.jsx)("i",{className:"jsx-108711949 fas fa-lock"})})}),Object(c.jsx)("input",{type:s?"text":"password",placeholder:"Repeat new password",autocomplete:"new-password",onChange:function(e){return f(e.target.value)},required:!0,className:"jsx-108711949 text-muted form-control border-top-0 border-left-0 border-right-0 rounded-0"}),Object(c.jsx)("div",{className:"jsx-108711949 input-group-append",children:Object(c.jsx)("span",{className:"jsx-108711949 input-group-text bg-white border-top-0 border-left-0 border-right-0 rounded-0",children:Object(c.jsx)("span",{onClick:function(e){return g()},className:"jsx-108711949 text-muted",children:s?Object(c.jsx)("i",{className:"jsx-108711949 fas fa-eye"}):Object(c.jsx)("i",{className:"jsx-108711949 fas fa-eye-slash"})})})})]}),Object(c.jsx)("div",{className:"jsx-108711949 py-5",children:Object(c.jsx)("button",{type:"submit",disabled:!(l&&u&&m),onClick:function(t){if(t.preventDefault(),u!==m)d.a.fire({title:"Info!",text:"Your new password and repeat new password must same",icon:"inf",confirmButtonText:"Ok",confirmButtonColor:"#6379f4;"});else{var s={oldpassword:l,password:u};i.a.patch("".concat("http://localhost:5001/api/","changePassword/").concat(e),s,{withCredentials:!0}).then((function(e){d.a.fire({title:"Success!",text:e.data.message,icon:"success",confirmButtonText:"Ok",confirmButtonColor:"#6379f4;"}),j.Router.push("/profile")})).catch((function(e){d.a.fire({title:"Error!",text:e.response.data.message,icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#a4a7b4"})}))}},className:"jsx-108711949 btn btn-block font-weight-bold radius-12 btn-lg btn-blue",children:"Change Password"})})]})})})})]}),Object(c.jsx)(a.a,{id:"108711949",children:["input.jsx-108711949:focus{border:1px solid #ced4da;box-shadow:none;}",".btn-blue.jsx-108711949{background-color:#6379f4;color:white;}",".btn-blue.jsx-108711949:hover{background-color:#5265cf;color:white;}",".btn-blue.jsx-108711949:disabled{background-color:#dadada;color:#88888f;}",".btn-blue.jsx-108711949:disabled.jsx-108711949:hover{background-color:#dadada;color:#88888f;}"]})]})}},H9S3:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/change-pin",function(){return s("uMZ9")}])},uMZ9:function(e,t,s){"use strict";s.r(t);var c=s("nKUr"),r=s("MX0m"),a=s.n(r),n=s("q1tI"),o=s("4mLu"),i=s.n(o),l=s("vDqi"),d=s.n(l),j=s("PSD3"),x=s.n(j),b=s("20a2");var u=function(){var e,t=Object(b.useRouter)(),s=Object(n.useState)(!1),r=s[0],o=s[1],l=Object(n.useState)(!1),j=l[0],u=l[1],p=Object(n.useState)(""),h=p[0],m=p[1],f=Object(n.useState)(""),g=f[0],O=f[1],N="http://localhost:5001/api/";return e=localStorage.getItem("id"),localStorage.getItem("token"),Object(c.jsxs)("div",{className:"jsx-1023167557 card shadow border-0 radius-12 h-100",children:[Object(c.jsx)("div",{className:"jsx-1023167557 card-body",children:r?Object(c.jsx)("div",{className:"jsx-1023167557 d-flex justify-content-center h-100",children:Object(c.jsxs)("div",{className:"jsx-1023167557 align-self-center text-center",children:[Object(c.jsx)("div",{role:"status",className:"jsx-1023167557 spinner-grow text-blue mb-3",children:Object(c.jsx)("span",{className:"jsx-1023167557 sr-only",children:"Loading..."})}),Object(c.jsx)("h4",{className:"jsx-1023167557 font-weight-bold text-muted",children:"Please wait..."}),Object(c.jsx)("p",{className:"jsx-1023167557 text-muted",children:"We're igniting the process"})]})}):Object(c.jsxs)("div",{className:"jsx-1023167557 h-100",children:[" ",j?Object(c.jsxs)("div",{"v-else":!0,className:"jsx-1023167557 h-100",children:[Object(c.jsx)("h5",{className:"jsx-1023167557 font-weight-bold text-secondary mb-3",children:"Change PIN"}),Object(c.jsxs)("p",{className:"jsx-1023167557 text-muted",children:["Type your 6 digits security PIN to use in ",Object(c.jsx)("br",{className:"jsx-1023167557"}),"Zwallet."]}),Object(c.jsx)("div",{className:"jsx-1023167557 my-auto",children:Object(c.jsx)("div",{className:"jsx-1023167557 row d-flex justify-content-center text-center",children:Object(c.jsx)("div",{className:"jsx-1023167557 col-md-8",children:Object(c.jsx)("form",{className:"jsx-1023167557",children:Object(c.jsxs)("div",{className:"jsx-1023167557 px-5",children:[Object(c.jsx)("div",{className:"jsx-1023167557 pt-4 input-wrapper",children:Object(c.jsx)(i.a,{length:6,focus:!0,secret:!0,initialValue:"",inputStyle:{border:"1px solid rgba(169, 169, 169, 0.6)",borderRadius:"10px",width:"10%",minWidth:"30px"},inputFocusStyle:{borderColor:" #6379f4"},type:"numeric",onChange:function(e){return O(e)}})}),Object(c.jsx)("div",{className:"jsx-1023167557 pt-5",children:Object(c.jsx)("button",{onClick:function(s){s.preventDefault(),o(!0),d.a.patch("".concat(N,"user/").concat(e),{pin:g},{withCredentials:!0}).then((function(e){o(!1),t.push("/profile"),u(!1),x.a.fire({title:"Success!",text:"Change pin success.",icon:"success",showConfirmButton:!1,timer:2e3})})).catch((function(e){o(!1),u(!0),x.a.fire({title:"Error!",text:"Change pin failed",icon:"error",showConfirmButton:!1,timer:2e3})}))},disabled:g.length<6,type:"submit",className:"jsx-1023167557 btn btn-block btn-lg radius-12 btn-blue",children:"Change Pin"})})]})})})})})]}):Object(c.jsxs)("div",{"v-else":!0,className:"jsx-1023167557 h-100",children:[Object(c.jsx)("h5",{className:"jsx-1023167557 font-weight-bold text-secondary mb-3",children:"Change PIN"}),Object(c.jsxs)("p",{className:"jsx-1023167557 text-muted",children:["Enter your current 6 digits Zwallet PIN below to ",Object(c.jsx)("br",{className:"jsx-1023167557"}),"continue to the next steps."]}),Object(c.jsx)("div",{className:"jsx-1023167557 my-auto",children:Object(c.jsx)("div",{className:"jsx-1023167557 row d-flex justify-content-center text-center",children:Object(c.jsx)("div",{className:"jsx-1023167557 col-md-8",children:Object(c.jsx)("form",{className:"jsx-1023167557",children:Object(c.jsxs)("div",{className:"jsx-1023167557 px-5",children:[Object(c.jsx)("div",{className:"jsx-1023167557 pt-4 input-wrapper",children:Object(c.jsx)(i.a,{length:6,focus:!0,secret:!0,initialValue:"",inputStyle:{border:"1px solid rgba(169, 169, 169, 0.6)",borderRadius:"10px",width:"10%",minWidth:"30px"},inputFocusStyle:{borderColor:" #6379f4"},type:"numeric",onChange:function(e){return m(e)}})}),Object(c.jsx)("div",{className:"jsx-1023167557 pt-5",children:Object(c.jsx)("button",{onClick:function(t){t.preventDefault(),o(!0),d.a.post("".concat(N,"loginPIN/").concat(e),{pin:h},{withCredentials:!0}).then((function(e){o(!1),u(!0),x.a.fire({title:"Success!",text:e.data.message,icon:"success",showConfirmButton:!1,timer:1500})})).catch((function(e){o(!1),u(!1),x.a.fire({title:"Error!",text:e.response.data.message,icon:"error",showConfirmButton:!1,timer:1500})}))},disabled:h.length<6,type:"submit",className:"jsx-1023167557 btn btn-block btn-lg radius-12 btn-blue ",children:"Continue"})})]})})})})})]})," "]})}),Object(c.jsx)(a.a,{id:"1023167557",children:[".btn-blue.jsx-1023167557{background-color:#6379f4;color:white;}",".btn-blue.jsx-1023167557:hover{background-color:#5265cf;color:white;}",".btn-blue.jsx-1023167557:disabled{background-color:#dadada;color:#88888f;}",".btn-blue.jsx-1023167557:disabled.jsx-1023167557:hover{background-color:#dadada;color:#88888f;}","input.jsx-1023167557:focus{border-color:blue !important;box-shadow:none !important;outline:0 none !important;}","input-wrapper.jsx-1023167557{width:100%;display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]})]})},p=(s("FBUm"),s("tT2N")),h=s("XAmc"),m=s("QNkD");t.default=function(){return Object(c.jsxs)("div",{className:"jsx-2129811849 bg-light min-vh-100",children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("div",{className:"jsx-2129811849 container h-content",children:Object(c.jsxs)("div",{className:"jsx-2129811849 row py-5 py-lg-5",children:[Object(c.jsx)("div",{className:"jsx-2129811849 col-3 d-none d-lg-block",children:Object(c.jsx)(m.a,{})}),Object(c.jsx)("div",{className:"jsx-2129811849 col",children:Object(c.jsx)(u,{})})]})}),Object(c.jsx)(p.a,{}),Object(c.jsx)(a.a,{id:"2129811849",children:["@media (max-width:767.98px){.h-content.jsx-2129811849{height:80vh;}}"]})]})}}},[["H9S3",0,2,1,3,4,5,6,7,11]]]);